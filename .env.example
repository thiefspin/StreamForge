# StreamForge Environment Configuration Example
# Copy this file to .env for local development

# Server Configuration
HOST=0.0.0.0
PORT=8080
LOG_LEVEL=info
ENVIRONMENT=development

# Kafka Configuration
KAFKA_BROKERS=localhost:9092
KAFKA_GROUP_ID=streamforge-consumer
KAFKA_INPUT_TOPIC=events.input.v1
KAFKA_DLQ_TOPIC=events.dlq.v1
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_ENABLE_AUTO_COMMIT=false

# Database Configuration
POSTGRES_URL=postgresql://streamforge:streamforge@localhost:5432/streamforge
DATABASE_POOL_MAX_SIZE=20
DATABASE_POOL_MIN_IDLE=5
DATABASE_POOL_TIMEOUT_SECONDS=30
DATABASE_POOL_IDLE_TIMEOUT_SECONDS=600

# Parquet Configuration
PARQUET_ROOT=./data/parquet/events
PARQUET_FLUSH_MAX_ROWS=10000
PARQUET_FLUSH_INTERVAL_SECS=60
PARQUET_COMPRESSION=snappy
PARQUET_BUFFER_SIZE=1000

# Processing Configuration
WORKER_CONCURRENCY=10
MAX_RETRIES=3
RETRY_BASE_MS=100
RETRY_MAX_MS=10000
BATCH_SIZE=100

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090

# Feature Flags
ENABLE_PARQUET_EXPORT=true
ENABLE_METRICS=true
ENABLE_TRACING=false

# Security
TLS_ENABLED=false
# TLS_CERT_PATH=/path/to/cert.pem
# TLS_KEY_PATH=/path/to/key.pem

# Development Settings
RUST_LOG=streamforge=debug,tower_http=debug,sqlx=warn
RUST_BACKTRACE=1
COLOR_OUTPUT=true
